"use strict";(self["webpackChunkvideo_player_demo"]=self["webpackChunkvideo_player_demo"]||[]).push([[516],{7361:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(4169),o=(a(6809),a(3396)),d=a(7139),i=a(5213),l=a(4870),r=a(3066);const s=(0,o._)("canvas",{style:{display:"none"},id:"canvas",width:"600",height:"400"},null,-1);var c={__name:"videoPlayer",setup(e){const t=(0,l.qj)({startDraw:!1,startVideotape:!1,videoEl:null,canvasEl:null,ctx:null,animateId:null,videotape:null});function a(){if(t.videoEl.paused||t.videoEl.ended)return;t.startDraw=!0;const{width:e,height:n}=t.canvasEl;t.ctx.clearRect(0,0,e,n),t.ctx.drawImage(t.videoEl,0,0,e,n),t.animateId=requestAnimationFrame(a)}function c(){t.videoEl.paused&&(t.videoEl.play(),a())}function u(){t.videoEl.paused||(t.videoEl.pause(),p())}function p(){cancelAnimationFrame(t.animateId)}function v(){console.log("视频开始加载")}function m(e){console.log("播放失败",e)}function w(){t.startDraw&&(0,r.yx)({download:!0,width:500,height:300})}function f(){t.startDraw&&(console.log(t.startVideotape,t.videotape),t.startVideotape?t.videotape.stop():t.videotape.start(),t.startVideotape=!t.startVideotape)}return(0,o.bv)((()=>{t.videoEl=document.getElementById("video"),t.canvasEl=document.getElementById("canvas"),t.ctx=t.canvasEl.getContext("2d"),t.videotape=new r.vl({el:"#canvas",download:!1})})),(e,a)=>{const l=n.mi;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("video",{id:"video",src:i,controls:!1,muted:"",onLoadstart:v,onError:m,onEnded:p},null,32),s,(0,o._)("div",null,[(0,o.Wm)(l,{onClick:c,type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("播放")])),_:1}),(0,o.Wm)(l,{onClick:u,type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("暂停")])),_:1}),(0,o.Wm)(l,{onClick:w,disabled:!t.startDraw,type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("截图")])),_:1},8,["disabled"]),(0,o.Wm)(l,{onClick:f,disabled:!t.startDraw,type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,d.zw)(t.startVideotape?"停止":"录制"),1)])),_:1},8,["disabled"])])],64)}}};const u=c;var p=u},5213:function(e,t,a){e.exports=a.p+"media/1d13c7cba4e03cea81ba27c397280214.e0d623e8.mp4"}}]);
//# sourceMappingURL=video-player.9fc953ef.js.map