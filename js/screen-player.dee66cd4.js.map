{"version":3,"file":"js/screen-player.dee66cd4.js","mappings":"uPAIA,GACEA,OAAQ,eACRC,MAAMC,GACJ,MAAMC,GAAY,QAAS,CACzBC,SAAS,EACTC,WAAW,EACXC,kBAAkB,EAClBC,kBAAkB,EAClBC,QAAS,KACTC,YAAa,OAQf,SAASC,IACFP,EAAUK,QAAQG,SACvBR,EAAUE,WAAY,EACtBF,EAAUK,QAAQI,OACpB,CACA,SAASC,IACHV,EAAUK,QAAQG,QACtBR,EAAUK,QAAQM,OACpB,CACAC,eAAeC,IACb,IACMb,EAAUG,kBACZH,EAAUM,YAAYQ,OACtBd,EAAUI,kBAAmB,EAC7BJ,EAAUG,kBAAmB,UAEvBH,EAAUM,YAAYS,QAC5Bf,EAAUG,kBAAmB,EAIjC,CAFE,MAAOa,GACPhB,EAAUG,kBAAmB,CAC/B,CACF,CACA,SAASc,IACFjB,EAAUE,YACf,QAAgB,CACdgB,UAAU,EACVC,MAAO,IACPC,OAAQ,KAEZ,CACA,SAASC,IACFrB,EAAUG,mBACfH,EAAUI,iBAAmBJ,EAAUM,YAAYgB,SAAWtB,EAAUM,YAAYK,QACpFX,EAAUI,kBAAoBJ,EAAUI,iBAC1C,CACA,OA1CA,SAAU,KACRJ,EAAUK,QAAUkB,SAASC,eAAe,SAC5CxB,EAAUM,YAAc,IAAI,KAAoB,CAC9CY,UAAU,GACV,IAsCG,CAACO,EAAMC,KACZ,MAAMC,EAAuB,KAC7B,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,IAAAC,GAAoB,QAAS,CACtFC,GAAI,QACJC,IAAK,EACLC,UAAU,EACVC,MAAO,GACPC,UAAWP,EAAO,KAAOA,EAAO,GAAKQ,GAAUlC,EAAUC,SAAU,IAClE,KAAM,KAAK,IAAA2B,GAAoB,MAAO,KAAM,EAAC,QAAaD,EAAsB,CACjFQ,QAAS5B,EACT6B,KAAM,UACNC,UAAWrC,EAAUC,SACpB,CACDqC,SAAS,SAAS,IAAM,EAAC,QAAiB,SAC1CV,EAAG,GACF,EAAG,CAAC,cAAc,QAAaD,EAAsB,CACtDQ,QAASzB,EACT0B,KAAM,UACNC,UAAWrC,EAAUC,SACpB,CACDqC,SAAS,SAAS,IAAM,EAAC,QAAiB,SAC1CV,EAAG,GACF,EAAG,CAAC,cAAc,QAAaD,EAAsB,CACtDQ,QAASlB,EACToB,UAAWrC,EAAUE,UACrBkC,KAAM,WACL,CACDE,SAAS,SAAS,IAAM,EAAC,QAAiB,SAC1CV,EAAG,GACF,EAAG,CAAC,cAAc,QAAaD,EAAsB,CACtDQ,QAAStB,EACTuB,KAAM,WACL,CACDE,SAAS,SAAS,IAAM,EAAC,SAAiB,QAAkBtC,EAAUG,iBAA0B,KAAP,MAAc,MACvGyB,EAAG,KACD,QAAaD,EAAsB,CACrCQ,QAASd,EACTgB,UAAWrC,EAAUG,iBACrBiC,KAAM,WACL,CACDE,SAAS,SAAS,IAAM,EAAC,SAAiB,QAAkBtC,EAAUI,iBAA0B,KAAP,MAAc,MACvGwB,EAAG,GACF,EAAG,CAAC,gBAAiB,GAAG,CAE/B,GClGF,MAAMW,EAAc,EAEpB,O","sources":["webpack://video-player-demo/./src/views/NativePlayer/screenPlayer.vue","webpack://video-player-demo/./src/views/NativePlayer/screenPlayer.vue?b91a"],"sourcesContent":["import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../../assets/1d13c7cba4e03cea81ba27c397280214.mp4';\nimport { onMounted, reactive } from \"vue\";\nimport { ScreenMediaRecorder, videoScreenshot } from \"@/utils\";\nexport default {\n  __name: 'screenPlayer',\n  setup(__props) {\n    const videoInfo = reactive({\n      canplay: false,\n      startPlay: false,\n      startMediaRecord: false,\n      pauseMediaRecord: false,\n      videoEl: null,\n      mediaRecord: null\n    });\n    onMounted(() => {\n      videoInfo.videoEl = document.getElementById(\"video\");\n      videoInfo.mediaRecord = new ScreenMediaRecorder({\n        download: true\n      });\n    });\n    function onPlay() {\n      if (!videoInfo.videoEl.paused) return;\n      videoInfo.startPlay = true;\n      videoInfo.videoEl.play();\n    }\n    function onPause() {\n      if (videoInfo.videoEl.paused) return;\n      videoInfo.videoEl.pause();\n    }\n    async function onVideotape() {\n      try {\n        if (videoInfo.startMediaRecord) {\n          videoInfo.mediaRecord.stop();\n          videoInfo.pauseMediaRecord = false;\n          videoInfo.startMediaRecord = false;\n        } else {\n          await videoInfo.mediaRecord.start();\n          videoInfo.startMediaRecord = true;\n        }\n      } catch (e) {\n        videoInfo.startMediaRecord = false;\n      }\n    }\n    function onScreenshot() {\n      if (!videoInfo.startPlay) return;\n      videoScreenshot({\n        download: true,\n        width: 500,\n        height: 300\n      });\n    }\n    function onMediaOperate() {\n      if (!videoInfo.startMediaRecord) return;\n      videoInfo.pauseMediaRecord ? videoInfo.mediaRecord.resume() : videoInfo.mediaRecord.pause();\n      videoInfo.pauseMediaRecord = !videoInfo.pauseMediaRecord;\n    }\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"video\", {\n        id: \"video\",\n        src: _imports_0,\n        controls: false,\n        muted: \"\",\n        onCanplay: _cache[0] || (_cache[0] = $event => videoInfo.canplay = true)\n      }, null, 32), _createElementVNode(\"div\", null, [_createVNode(_component_el_button, {\n        onClick: onPlay,\n        type: \"primary\",\n        disabled: !videoInfo.canplay\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"播放\")]),\n        _: 1\n      }, 8, [\"disabled\"]), _createVNode(_component_el_button, {\n        onClick: onPause,\n        type: \"primary\",\n        disabled: !videoInfo.canplay\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"暂停\")]),\n        _: 1\n      }, 8, [\"disabled\"]), _createVNode(_component_el_button, {\n        onClick: onScreenshot,\n        disabled: !videoInfo.startPlay,\n        type: \"primary\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"截图\")]),\n        _: 1\n      }, 8, [\"disabled\"]), _createVNode(_component_el_button, {\n        onClick: onVideotape,\n        type: \"primary\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(!videoInfo.startMediaRecord ? \"录屏\" : \"停止\"), 1)]),\n        _: 1\n      }), _createVNode(_component_el_button, {\n        onClick: onMediaOperate,\n        disabled: !videoInfo.startMediaRecord,\n        type: \"primary\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(!videoInfo.pauseMediaRecord ? \"暂停\" : \"恢复\"), 1)]),\n        _: 1\n      }, 8, [\"disabled\"])])], 64);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./screenPlayer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./screenPlayer.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__name","setup","__props","videoInfo","canplay","startPlay","startMediaRecord","pauseMediaRecord","videoEl","mediaRecord","onPlay","paused","play","onPause","pause","async","onVideotape","stop","start","e","onScreenshot","download","width","height","onMediaOperate","resume","document","getElementById","_ctx","_cache","_component_el_button","_","id","src","controls","muted","onCanplay","$event","onClick","type","disabled","default","__exports__"],"sourceRoot":""}